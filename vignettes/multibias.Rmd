---
title: "Introduction to multibias"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Multi-Bias Examples}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
library(multibias)
```

Intro

## 1. Identify the biases in your data

All epidemiological biases can be generalized into four main groups:
* Uncontrolled confounding (**uc**)
* Exposure misclassificaiton (**em**)
* Outcome misclassificaiton (**om**)
* Selection bias (**sel**)

Multibias is capable of handling bias adjustment for most of the combinations of the above four biases. Choose the `adjust()` function corresponding to the biases of interest. For example, `adjust_uc_sel()` adjusts for uncontrolled confounding and selection bias.

For purposes of demonstration, multibias includes datasets with different bias combinations. For a given bias or biases, it includes the biased data (e.g., `df_uc_sel`: missing a confounder and not including the un-selected subjects) and the source used to derive the biased data (e.g., `df_uc_sel_source`: including data on the missing confounder and subjects who were not selected).

Identify variables

## 2. Create data_observed

```{r}
df_observed <- data_observed(
  df_uc_sel,
  exposure = "X",
  outcome = "Y",
  confounders = c("C1", "C2", "C3")
)
```

## 3. Obtain source for bias adjustment

### Option 1: Bias parameters

```{r}
```

### Option 2: Validation data

```{r}
data_validation = data_validation(
  df_uc_sel_source,
  true_exposure = "X",
  true_outcome = "Y",
  confounders = c("C1", "C2", "C3", "U"),
  selection = "S"
)
```

# 4. Run the bias adjustment

### Single run

```{r}
```


### Bootstrapping

```{r}
```

Interpretation